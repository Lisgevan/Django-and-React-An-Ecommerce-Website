{"version":3,"sources":["constants/productConstants.js","constants/cartConstants.js","constants/userConstants.js","constants/orderConstants.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","components/SearchBox.js","actions/userActions.js","components/Header.js","components/Footer.js","components/Rating.js","components/Product.js","components/Loader.js","components/Message.js","components/Paginate.js","actions/productActions.js","components/ProductCarousel.js","screens/HomeScreen.js","screens/ProductScreen.js","actions/cartActions.js","screens/CartScreen.js","components/FormContainer.js","screens/LoginScreen.js","screens/RegisterScreen.js","screens/ProfileScreen.js","actions/orderActions.js","components/CheckoutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","screens/PlaceOrderScreen.js","screens/OrderScreen.js","screens/UserListScreen.js","screens/UserEditScreen.js","screens/ProductListScreen.js","screens/ProductEditScreen.js","screens/OrderListScreen.js","App.js","reportWebVitals.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_RESET","PRODUCT_TOP_REQUEST","PRODUCT_TOP_SUCCESS","PRODUCT_TOP_FAIL","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_RESET","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAIL","PRODUCT_CREATE_REVIEW_RESET","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","CART_CLEAR_ITEMS","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_DETAILS_RESET","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_SUCCESS","USER_UPDATE_PROFILE_FAIL","USER_UPDATE_PROFILE_RESET","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAIL","USER_LIST_RESET","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","USER_UPDATE_RESET","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAIL","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_CREATE_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_RESET","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAIL","ORDER_DELIVER_RESET","ORDER_LIST_MY_REQUEST","ORDER_LIST_MY_SUCCESS","ORDER_LIST_MY_FAIL","ORDER_LIST_MY_RESET","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","reducer","combineReducers","productList","state","products","action","type","loading","payload","page","pages","error","productDetails","product","reviews","productCreate","success","productUpdate","productReviewCreate","productDelete","productTopRated","cart","cartItems","shippingAddress","item","existItem","find","x","map","filter","paymentMethod","userLogin","userInfo","userRegister","userDetails","user","userUpdateProfile","userList","users","userDelete","userUpdate","orderCreate","order","orderDetails","orderItems","orderPay","orderDeliver","orderListMy","orders","orderList","cartItemsFromStorage","localStorage","getItem","JSON","parse","userInfoFromStorage","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","SearchBox","useState","keyword","setKeyword","history","useHistory","Form","onSubmit","e","preventDefault","push","location","pathname","className","Control","name","onChange","target","value","Button","variant","getUserDetails","id","dispatch","getState","a","config","headers","Authorization","token","axios","get","data","response","detail","message","Header","useSelector","useDispatch","Navbar","bg","expand","collapseOnSelect","Container","to","Brand","Toggle","Collapse","Nav","Link","NavDropdown","title","Item","onClick","removeItem","isAdmin","Footer","Row","Col","Rating","text","color","style","Product","Card","_id","Img","src","image","Body","Title","as","Text","rating","numReviews","price","Loader","Spinner","animation","role","height","width","margin","display","Message","children","Alert","Paginate","split","Pagination","Array","keys","active","listProducts","listProductDetails","ProductCarousel","useEffect","Carousel","pause","Image","alt","fluid","Caption","HomeScreen","search","sm","md","lg","xl","ProductScreen","match","qty","setQty","setRating","comment","setComment","loadingProductReview","errorProductReview","successProductReview","params","ListGroup","description","countInStock","xs","disabled","length","review","createdAt","substring","productId","post","Group","controlId","Label","row","addToCart","setItem","stringify","CartScreen","Number","removeFromCartHandler","removeFromCart","rounded","reduce","acc","toFixed","FormContainer","LoginScreen","email","setEmail","password","setPassword","redirect","username","login","placeholder","RegisterScreen","setName","confirmPassword","setConfirmPassword","setMessage","register","required","ProfileScreen","loadingOrders","errorOrders","put","updateUserProfile","Table","striped","responsive","totalPrice","isPaid","paidAt","class","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","PaymentScreen","setPaymentMethod","Check","label","checked","PlaceOrderScreen","itemsPrice","shippingPrice","taxPrice","City","index","createOrder","OrderScreen","orderId","sdkReady","setSdkReady","loadingPay","successPay","loadingDeliver","successDeliver","window","paypal","script","document","createElement","async","onload","body","appendChild","addPayPalScript","href","isDelivered","deliveredAt","amount","onSuccess","paymentResult","payOrder","deliverOrder","UserListScreen","successDelete","deleteHandler","confirm","delete","deleteUser","bordered","hover","UserEditScreen","userId","setIsAdmin","errorUpdate","loadingUpdate","successUpdate","updateUser","ProductListScreen","loadingCreate","errorCreate","successCreate","createdProduct","loadingDelete","errorDelete","deleteProduct","category","brand","ProductEditScreen","setPrice","setImage","setBrand","setCategory","setCountInStock","setDescription","uploading","setUploading","uploadFileHandler","file","files","formData","FormData","append","updateProduct","File","custom","OrderListScreen","App","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3b7b9aae.chunk.js","sourcesContent":["export const PRODUCT_LIST_REQUEST = \"PRODUCT_LIST_REQUEST\";\r\nexport const PRODUCT_LIST_SUCCESS = \"PRODUCT_LIST_SUCCESS\";\r\nexport const PRODUCT_LIST_FAIL = \"PRODUCT_LIST_FAIL\";\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = \"PRODUCT_DETAILS_REQUEST\";\r\nexport const PRODUCT_DETAILS_SUCCESS = \"PRODUCT_DETAILS_SUCCESS\";\r\nexport const PRODUCT_DETAILS_FAIL = \"PRODUCT_DETAILS_FAIL\";\r\n\r\nexport const PRODUCT_CREATE_REQUEST = \"PRODUCT_CREATE_REQUEST\";\r\nexport const PRODUCT_CREATE_SUCCESS = \"PRODUCT_CREATE_SUCCESS\";\r\nexport const PRODUCT_CREATE_FAIL = \"PRODUCT_CREATE_FAIL\";\r\nexport const PRODUCT_CREATE_RESET = \"PRODUCT_CREATE_RESET\";\r\n\r\nexport const PRODUCT_TOP_REQUEST = \"PRODUCT_TOP_REQUEST\";\r\nexport const PRODUCT_TOP_SUCCESS = \"PRODUCT_TOP_SUCCESS\";\r\nexport const PRODUCT_TOP_FAIL = \"PRODUCT_TOP_FAIL\";\r\n\r\nexport const PRODUCT_UPDATE_REQUEST = \"PRODUCT_UPDATE_REQUEST\";\r\nexport const PRODUCT_UPDATE_SUCCESS = \"PRODUCT_UPDATE_SUCCESS\";\r\nexport const PRODUCT_UPDATE_FAIL = \"PRODUCT_UPDATE_FAIL\";\r\nexport const PRODUCT_UPDATE_RESET = \"PRODUCT_UPDATE_RESET\";\r\n\r\nexport const PRODUCT_CREATE_REVIEW_REQUEST = \"PRODUCT_CREATE_REVIEW_REQUEST\";\r\nexport const PRODUCT_CREATE_REVIEW_SUCCESS = \"PRODUCT_CREATE_REVIEW_SUCCESS\";\r\nexport const PRODUCT_CREATE_REVIEW_FAIL = \"PRODUCT_CREATE_REVIEW_FAIL\";\r\nexport const PRODUCT_CREATE_REVIEW_RESET = \"PRODUCT_CREATE_REVIEW_RESET\";\r\n\r\nexport const PRODUCT_DELETE_REQUEST = \"PRODUCT_DELETE_REQUEST\";\r\nexport const PRODUCT_DELETE_SUCCESS = \"PRODUCT_DELETE_SUCCESS\";\r\nexport const PRODUCT_DELETE_FAIL = \"PRODUCT_DELETE_FAIL\";\r\n","export const CART_ADD_ITEM = \"CART_ADD_ITEM\";\r\nexport const CART_REMOVE_ITEM = \"CART_REMOVE_ITEM\";\r\nexport const CART_SAVE_SHIPPING_ADDRESS = \"CART_SAVE_SHIPPING_ADDRESS\";\r\nexport const CART_SAVE_PAYMENT_METHOD = \"CART_SAVE_PAYMENT_METHOD\";\r\nexport const CART_CLEAR_ITEMS = \"CART_CLEAR_ITEMS\";\r\n","export const USER_LOGIN_REQUEST = \"USER_LOGIN_REQUEST\";\r\nexport const USER_LOGIN_SUCCESS = \"USER_LOGIN_SUCCESS\";\r\nexport const USER_LOGIN_FAIL = \"USER_LOGIN_FAIL\";\r\n\r\nexport const USER_LOGOUT = \"USER_LOGOUT\";\r\n\r\nexport const USER_REGISTER_REQUEST = \"USER_REGISTER_REQUEST\";\r\nexport const USER_REGISTER_SUCCESS = \"USER_REGISTER_SUCCESS\";\r\nexport const USER_REGISTER_FAIL = \"USER_REGISTER_FAIL\";\r\n\r\nexport const USER_DETAILS_REQUEST = \"USER_DETAILS_REQUEST\";\r\nexport const USER_DETAILS_SUCCESS = \"USER_DETAILS_SUCCESS\";\r\nexport const USER_DETAILS_FAIL = \"USER_DETAILS_FAIL\";\r\nexport const USER_DETAILS_RESET = \"USER_DETAILS_RESET\";\r\n\r\nexport const USER_UPDATE_PROFILE_REQUEST = \"USER_UPDATE_PROFILE_REQUEST\";\r\nexport const USER_UPDATE_PROFILE_SUCCESS = \"USER_UPDATE_PROFILE_SUCCESS\";\r\nexport const USER_UPDATE_PROFILE_FAIL = \"USER_UPDATE_PROFILE_FAIL\";\r\nexport const USER_UPDATE_PROFILE_RESET = \"USER_UPDATE_PROFILE_RESET\";\r\n\r\nexport const USER_LIST_REQUEST = \"USER_LIST_REQUEST\";\r\nexport const USER_LIST_SUCCESS = \"USER_LIST_SUCCESS\";\r\nexport const USER_LIST_FAIL = \"USER_LIST_FAIL\";\r\nexport const USER_LIST_RESET = \"USER_LIST_RESET\";\r\n\r\nexport const USER_UPDATE_REQUEST = \"USER_UPDATE_REQUEST\";\r\nexport const USER_UPDATE_SUCCESS = \"USER_UPDATE_SUCCESS\";\r\nexport const USER_UPDATE_FAIL = \"USER_UPDATE_FAIL\";\r\nexport const USER_UPDATE_RESET = \"USER_UPDATE_RESET\";\r\n\r\nexport const USER_DELETE_REQUEST = \"USER_DELETE_REQUEST\";\r\nexport const USER_DELETE_SUCCESS = \"USER_DELETE_SUCCESS\";\r\nexport const USER_DELETE_FAIL = \"USER_DELETE_FAIL\";\r\n","export const ORDER_CREATE_REQUEST = \"ORDER_CREATE_REQUEST\";\r\nexport const ORDER_CREATE_SUCCESS = \"ORDER_CREATE_SUCCESS\";\r\nexport const ORDER_CREATE_FAIL = \"ORDER_CREATE_FAIL\";\r\nexport const ORDER_CREATE_RESET = \"ORDER_CREATE_RESET\";\r\n\r\nexport const ORDER_DETAILS_REQUEST = \"ORDER_DETAILS_REQUEST\";\r\nexport const ORDER_DETAILS_SUCCESS = \"ORDER_DETAILS_SUCCESS\";\r\nexport const ORDER_DETAILS_FAIL = \"ORDER_DETAILS_FAIL\";\r\n\r\nexport const ORDER_PAY_REQUEST = \"ORDER_PAY_REQUEST\";\r\nexport const ORDER_PAY_SUCCESS = \"ORDER_PAY_SUCCESS\";\r\nexport const ORDER_PAY_FAIL = \"ORDER_PAY_FAIL\";\r\nexport const ORDER_PAY_RESET = \"ORDER_PAY_RESET\";\r\n\r\nexport const ORDER_DELIVER_REQUEST = \"ORDER_DELIVER_REQUEST\";\r\nexport const ORDER_DELIVER_SUCCESS = \"ORDER_DELIVER_SUCCESS\";\r\nexport const ORDER_DELIVER_FAIL = \"ORDER_DELIVER_FAIL\";\r\nexport const ORDER_DELIVER_RESET = \"ORDER_DELIVER_RESET\";\r\n\r\nexport const ORDER_LIST_MY_REQUEST = \"ORDER_LIST_MY_REQUEST\";\r\nexport const ORDER_LIST_MY_SUCCESS = \"ORDER_LIST_MY_SUCCESS\";\r\nexport const ORDER_LIST_MY_FAIL = \"ORDER_LIST_MY_FAIL\";\r\nexport const ORDER_LIST_MY_RESET = \"ORDER_LIST_MY_RESET\";\r\n\r\nexport const ORDER_LIST_REQUEST = \"ORDER_LIST_REQUEST\";\r\nexport const ORDER_LIST_SUCCESS = \"ORDER_LIST_SUCCESS\";\r\nexport const ORDER_LIST_FAIL = \"ORDER_LIST_FAIL\";\r\n","import thunk from \"redux-thunk\";\r\n\r\nimport { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\n\r\nimport {\r\n\tproductListReducer,\r\n\tproductDetailsReducer,\r\n\tproductDeleteReducer,\r\n\tproductCreateReducer,\r\n\tproductUpdateReducer,\r\n\tproductReviewCreateReducer,\r\n\tproductTopRatedReducer,\r\n} from \"./reducers/productReducers\";\r\nimport { cartReducer } from \"./reducers/cartReducers\";\r\nimport {\r\n\tuserLoginReducer,\r\n\tuserRegisterReducer,\r\n\tuserDetailsReducer,\r\n\tuserUpdateProfileReducer,\r\n\tuserListReducer,\r\n\tuserUpdateReducer,\r\n\tuserDeleteReducer,\r\n} from \"./reducers/userReducers\";\r\nimport {\r\n\torderCreateReducer,\r\n\torderDetailsReducer,\r\n\torderPayReducer,\r\n\torderDeliverReducer,\r\n\torderListMyReducer,\r\n\torderListReducer,\r\n} from \"./reducers/orderReducers\";\r\n\r\nconst reducer = combineReducers({\r\n\tproductList: productListReducer,\r\n\tproductDetails: productDetailsReducer,\r\n\tproductCreate: productCreateReducer,\r\n\tproductUpdate: productUpdateReducer,\r\n\tproductReviewCreate: productReviewCreateReducer,\r\n\tproductDelete: productDeleteReducer,\r\n\tproductTopRated: productTopRatedReducer,\r\n\r\n\tcart: cartReducer,\r\n\r\n\tuserLogin: userLoginReducer,\r\n\tuserRegister: userRegisterReducer,\r\n\tuserDetails: userDetailsReducer,\r\n\tuserUpdateProfile: userUpdateProfileReducer,\r\n\tuserList: userListReducer,\r\n\tuserDelete: userDeleteReducer,\r\n\tuserUpdate: userUpdateReducer,\r\n\r\n\torderCreate: orderCreateReducer,\r\n\torderDetails: orderDetailsReducer,\r\n\torderPay: orderPayReducer,\r\n\torderDeliver: orderDeliverReducer,\r\n\torderListMy: orderListMyReducer,\r\n\torderList: orderListReducer,\r\n});\r\n\r\nconst cartItemsFromStorage = localStorage.getItem(\"cartItems\") ? JSON.parse(localStorage.getItem(\"cartItems\")) : [];\r\nconst userInfoFromStorage = localStorage.getItem(\"userInfo\") ? JSON.parse(localStorage.getItem(\"userInfo\")) : null;\r\nconst shippingAddressFromStorage = localStorage.getItem(\"shippingAddress\")\r\n\t? JSON.parse(localStorage.getItem(\"shippingAddress\"))\r\n\t: {};\r\n\r\nconst initialState = {\r\n\tcart: {\r\n\t\tcartItems: cartItemsFromStorage,\r\n\t\tshippingAddress: shippingAddressFromStorage,\r\n\t},\r\n\tuserLogin: { userInfo: userInfoFromStorage },\r\n};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(reducer, initialState, composeWithDevTools(applyMiddleware(...middleware)));\r\n\r\nexport default store;\r\n","import {\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_FAIL,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DETAILS_FAIL,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_CREATE_FAIL,\r\n\tPRODUCT_CREATE_RESET,\r\n\tPRODUCT_TOP_REQUEST,\r\n\tPRODUCT_TOP_SUCCESS,\r\n\tPRODUCT_TOP_FAIL,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAIL,\r\n\tPRODUCT_UPDATE_RESET,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAIL,\r\n\tPRODUCT_CREATE_REVIEW_RESET,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_DELETE_FAIL,\r\n} from \"../constants/productConstants\";\r\n\r\nexport const productListReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_LIST_REQUEST:\r\n\t\t\treturn { loading: true, products: [] };\r\n\t\tcase PRODUCT_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tproducts: action.payload.products,\r\n\t\t\t\tpage: action.payload.page,\r\n\t\t\t\tpages: action.payload.pages,\r\n\t\t\t};\r\n\t\tcase PRODUCT_LIST_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productDetailsReducer = (state = { product: { reviews: [] } }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DETAILS_REQUEST:\r\n\t\t\treturn { loading: true, ...state };\r\n\t\tcase PRODUCT_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, product: action.payload };\r\n\t\tcase PRODUCT_DETAILS_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_CREATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, product: action.payload };\r\n\t\tcase PRODUCT_CREATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase PRODUCT_CREATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productUpdateReducer = (state = { product: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, product: action.payload };\r\n\t\tcase PRODUCT_UPDATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase PRODUCT_UPDATE_RESET:\r\n\t\t\treturn { product: {} };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productReviewCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_REVIEW_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_CREATE_REVIEW_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase PRODUCT_CREATE_REVIEW_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase PRODUCT_CREATE_REVIEW_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productTopRatedReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_TOP_REQUEST:\r\n\t\t\treturn { loading: true, products: [] };\r\n\t\tcase PRODUCT_TOP_SUCCESS:\r\n\t\t\treturn { loading: false, products: action.payload };\r\n\t\tcase PRODUCT_TOP_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DELETE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase PRODUCT_DELETE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_SHIPPING_ADDRESS,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n\tCART_CLEAR_ITEMS,\r\n} from \"../constants/cartConstants\";\r\n\r\nexport const cartReducer = (state = { cartItems: [], shippingAddress: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase CART_ADD_ITEM:\r\n\t\t\tconst item = action.payload;\r\n\t\t\tconst existItem = state.cartItems.find(x => x.product === item.product);\r\n\r\n\t\t\tif (existItem) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: state.cartItems.map(x => (x.product === existItem.product ? item : x)),\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: [...state.cartItems, item],\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\tcase CART_REMOVE_ITEM:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: state.cartItems.filter(x => x.product !== action.payload),\r\n\t\t\t};\r\n\r\n\t\tcase CART_SAVE_SHIPPING_ADDRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshippingAddress: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase CART_SAVE_PAYMENT_METHOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaymentMethod: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase CART_CLEAR_ITEMS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: [],\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_UPDATE_PROFILE_REQUEST,\r\n\tUSER_UPDATE_PROFILE_SUCCESS,\r\n\tUSER_UPDATE_PROFILE_FAIL,\r\n\tUSER_UPDATE_PROFILE_RESET,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAIL,\r\n\tUSER_LIST_RESET,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAIL,\r\n\tUSER_UPDATE_RESET,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_FAIL,\r\n} from \"../constants/userConstants\";\r\n\r\nexport const userLoginReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LOGIN_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_LOGIN_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_LOGIN_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LOGOUT:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_REGISTER_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_REGISTER_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_REGISTER_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LOGOUT:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DETAILS_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, user: action.payload };\r\n\t\tcase USER_DETAILS_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_DETAILS_RESET:\r\n\t\t\treturn { user: {} };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userUpdateProfileReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_UPDATE_PROFILE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_UPDATE_PROFILE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, userInfo: action.payload };\r\n\t\tcase USER_UPDATE_PROFILE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_UPDATE_PROFILE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userListReducer = (state = { users: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LIST_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_LIST_SUCCESS:\r\n\t\t\treturn { loading: false, users: action.payload };\r\n\t\tcase USER_LIST_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LIST_RESET:\r\n\t\t\treturn { users: [] };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DELETE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase USER_DELETE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userUpdateReducer = (state = { users: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase USER_UPDATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_UPDATE_RESET:\r\n\t\t\treturn { users: {} };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_CREATE_FAIL,\r\n\tORDER_CREATE_RESET,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_DETAILS_FAIL,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_PAY_FAIL,\r\n\tORDER_PAY_RESET,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DELIVER_FAIL,\r\n\tORDER_DELIVER_RESET,\r\n\tORDER_LIST_MY_REQUEST,\r\n\tORDER_LIST_MY_SUCCESS,\r\n\tORDER_LIST_MY_FAIL,\r\n\tORDER_LIST_MY_RESET,\r\n\tORDER_LIST_REQUEST,\r\n\tORDER_LIST_SUCCESS,\r\n\tORDER_LIST_FAIL,\r\n} from \"../constants/orderConstants\";\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_CREATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase ORDER_CREATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, order: action.payload };\r\n\t\tcase ORDER_CREATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase ORDER_CREATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderDetailsReducer = (state = { loading: true, orderItems: [], shippingAddress: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DETAILS_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DETAILS_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_DETAILS_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderPayReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_PAY_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderDeliverReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DELIVER_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderListMyReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_LIST_MY_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_LIST_MY_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_LIST_MY_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_LIST_MY_RESET:\r\n\t\t\treturn { orders: [] };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderListReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_LIST_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_LIST_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Button, Form } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst SearchBox = () => {\r\n\tconst [keyword, setKeyword] = useState();\r\n\r\n\tlet history = useHistory();\r\n\r\n\tconst submitHandler = e => {\r\n\t\te.preventDefault();\r\n\t\tif (keyword) {\r\n\t\t\thistory.push(`/?keyword=${keyword}&page=1`);\r\n\t\t} else {\r\n\t\t\t//send user back to the page he/she was\r\n\t\t\thistory.push(history.push(history.location.pathname));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={submitHandler} className=\"d-flex\">\r\n\t\t\t<Form.Control\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"q\"\r\n\t\t\t\tonChange={e => setKeyword(e.target.value)}\r\n\t\t\t\tclassName=\"mr-sm-2 ml-sm-5\"></Form.Control>\r\n\t\t\t<Button type=\"submit\" variant=\"outline-success\" className=\"p-2 mx-2\">\r\n\t\t\t\tSubmit\r\n\t\t\t</Button>\r\n\t\t</Form>\r\n\t);\r\n};\r\n\r\nexport default SearchBox;\r\n","import {\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_UPDATE_PROFILE_REQUEST,\r\n\tUSER_UPDATE_PROFILE_SUCCESS,\r\n\tUSER_UPDATE_PROFILE_FAIL,\r\n\tUSER_UPDATE_PROFILE_RESET,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAIL,\r\n\tUSER_LIST_RESET,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAIL,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_FAIL,\r\n} from \"../constants/userConstants\";\r\n\r\nimport { ORDER_LIST_MY_RESET } from \"../constants/orderConstants\";\r\n\r\nimport axios from \"axios\";\r\n\r\nexport const login = (email, password) => async dispatch => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(\"/api/users/login/\", { username: email, password: password }, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const logout = () => dispatch => {\r\n\tlocalStorage.removeItem(\"userInfo\");\r\n\tdispatch({ type: USER_LOGOUT });\r\n\tdispatch({ type: USER_DETAILS_RESET });\r\n\tdispatch({ type: ORDER_LIST_MY_RESET });\r\n\tdispatch({ type: USER_LIST_RESET });\r\n};\r\n\r\nexport const register = (name, email, password) => async dispatch => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t\"/api/users/register/\",\r\n\t\t\t{\r\n\t\t\t\tname: name,\r\n\t\t\t\temail: email,\r\n\t\t\t\tpassword: password,\r\n\t\t\t},\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getUserDetails = id => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`/api/users/${id}/`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateUserProfile = user => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(`/api/users/profile/update/`, user, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const listUsers = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`/api/users/`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deleteUser = id => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.delete(`/api/users/delete/${id}`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateUser = user => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(`/api/users/update/${user._id}/`, user, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_SUCCESS,\r\n\t\t});\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Navbar, Nav, Container, Row, Col, NavDropdown } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport SearchBox from \"./SearchBox\";\r\nimport { logout } from \"../actions/userActions\";\r\n\r\nconst Header = () => {\r\n\tconst userLogin = useSelector(state => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst logoutHandler = () => {\r\n\t\tdispatch(logout());\r\n\t};\r\n\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\" collapseOnSelect>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<LinkContainer to=\"/\">\r\n\t\t\t\t\t\t<Navbar.Brand>Proshop</Navbar.Brand>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n\t\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\r\n\t\t\t\t\t\t<SearchBox />\r\n\t\t\t\t\t\t<Nav className=\"ml-auto\">\r\n\t\t\t\t\t\t\t<LinkContainer to=\"/cart\">\r\n\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-shopping-cart\"></i>\r\n\t\t\t\t\t\t\t\t\tCart\r\n\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t</LinkContainer>\r\n\r\n\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t<NavDropdown title={userInfo.name} id=\"username\">\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/profile\">\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Profile</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={logoutHandler}>Logout</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<LinkContainer to=\"/login\">\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-user\"></i>\r\n\t\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{userInfo && userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t\t<NavDropdown title=\"Admin\" id=\"adminmenu\">\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/admin/userlist\">\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Users</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/admin/productlist\">\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Products</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/admin/orderList\">\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Orders</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Container>\r\n\t\t\t</Navbar>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer>\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"text-center py-3\">CopyRight &copy; Proshop</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nconst Rating = ({ value, text, color }) => {\r\n\treturn (\r\n\t\t<div className=\"rating\">\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={value >= 1 ? \"fas fa-star\" : value >= 0.5 ? \"fas fa-star-half-alt\" : \"far fa-star\"}></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={value >= 2 ? \"fas fa-star\" : value >= 1.5 ? \"fas fa-star-half-alt\" : \"far fa-star\"}></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={value >= 3 ? \"fas fa-star\" : value >= 2.5 ? \"fas fa-star-half-alt\" : \"far fa-star\"}></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={value >= 4 ? \"fas fa-star\" : value >= 3.5 ? \"fas fa-star-half-alt\" : \"far fa-star\"}></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={value >= 5 ? \"fas fa-star\" : value >= 4.5 ? \"fas fa-star-half-alt\" : \"far fa-star\"}></i>\r\n\t\t\t</span>\r\n\t\t\t<span>{text && text}</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Rating;\r\n","import React from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport Rating from \"./Rating\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Product = ({ product }) => {\r\n\treturn (\r\n\t\t<Card className=\"my-3 p-3 rounded\">\r\n\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t<Card.Img src={product.image} />\r\n\t\t\t</Link>\r\n\t\t\t<Card.Body>\r\n\t\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t\t<Card.Title as=\"div\">\r\n\t\t\t\t\t\t<strong>{product.name}</strong>\r\n\t\t\t\t\t</Card.Title>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<Card.Text as=\"div\">\r\n\t\t\t\t\t<div className=\"my-3\">\r\n\t\t\t\t\t\t{product.rating} from {product.numReviews} reviews\r\n\t\t\t\t\t\t<Rating value={product.rating} text={`${product.numReviews} reviews`} color={\"#f8e825\"} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card.Text>\r\n\r\n\t\t\t\t<Card.Text as=\"h3\">$ {product.price}</Card.Text>\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nconst Loader = () => {\r\n\treturn (\r\n\t\t<Spinner\r\n\t\t\tanimation=\"border\"\r\n\t\t\trole=\"status\"\r\n\t\t\tstyle={{ height: \"100px\", width: \"100px\", margin: \"auto\", display: \"block\" }}>\r\n\t\t\t<span className=\"sr-only\">Loading...</span>\r\n\t\t</Spinner>\r\n\t);\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport { Alert } from \"react-bootstrap\";\r\n\r\nconst Message = ({ variant, children }) => {\r\n\treturn <Alert variant={variant}>{children}</Alert>;\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport { Pagination } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\n\r\nconst Paginate = ({ pages, page, keyword = \"\", isAdmin = false }) => {\r\n\tif (keyword) {\r\n\t\tkeyword = keyword.split(\"?keyword=\")[1].split(\"&\")[0];\r\n\t}\r\n\r\n\treturn (\r\n\t\tpages > 1 && (\r\n\t\t\t<Pagination>\r\n\t\t\t\t{[...Array(pages).keys()].map(x => (\r\n\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\tkey={x + 1}\r\n\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\t!isAdmin\r\n\t\t\t\t\t\t\t\t? `/?keyword=${keyword}&page=${x + 1}`\r\n\t\t\t\t\t\t\t\t: `/admin/productlist/?keyword=${keyword}&page=${x + 1}`\r\n\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t<Pagination.Item active={x + 1 === page}>{x + 1}</Pagination.Item>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t))}\r\n\t\t\t</Pagination>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nexport default Paginate;\r\n","import axios from \"axios\";\r\n\r\nimport {\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_FAIL,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DETAILS_FAIL,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_DELETE_FAIL,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_CREATE_FAIL,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAIL,\r\n\tPRODUCT_TOP_REQUEST,\r\n\tPRODUCT_TOP_SUCCESS,\r\n\tPRODUCT_TOP_FAIL,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAIL,\r\n} from \"../constants/productConstants\";\r\n\r\nexport const listProducts =\r\n\t(keyword = \"\") =>\r\n\tasync dispatch => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: PRODUCT_LIST_REQUEST });\r\n\r\n\t\t\tconst { data } = await axios.get(`/api/products${keyword}`);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_LIST_SUCCESS,\r\n\t\t\t\tpayload: data,\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_LIST_FAIL,\r\n\t\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const listTopProducts =\r\n\t(keyword = \"\") =>\r\n\tasync dispatch => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: PRODUCT_TOP_REQUEST });\r\n\r\n\t\t\tconst { data } = await axios.get(`/api/products/top/`);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_TOP_SUCCESS,\r\n\t\t\t\tpayload: data,\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_TOP_FAIL,\r\n\t\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const listProductDetails = id => async dispatch => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n\r\n\t\tconst { data } = await axios.get(`/api/products/${id}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(`/api/products/create/`, {}, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateProduct = product => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(`/api/products/update/${product._id}/`, product, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const createProductReview = (productId, review) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REVIEW_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(`/api/products/${productId}/reviews/`, review, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REVIEW_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REVIEW_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deleteProduct = id => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.delete(`/api/products/delete/${id}/`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_SUCCESS,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Carousel, Image } from \"react-bootstrap\";\r\nimport Loader from \"./Loader\";\r\nimport Message from \"./Message\";\r\nimport { listTopProducts } from \"../actions/productActions\";\r\n\r\nconst ProductCarousel = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productTopRated = useSelector(state => state.productTopRated);\r\n\tconst { error, loading, products } = productTopRated;\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listTopProducts());\r\n\t}, [dispatch]);\r\n\r\n\treturn loading ? (\r\n\t\t<Loader />\r\n\t) : error ? (\r\n\t\t<Message variant=\"danger\">{error}</Message>\r\n\t) : (\r\n\t\t<Carousel pause=\"hover\" className=\"bg-dark\">\r\n\t\t\t{products.map(product => (\r\n\t\t\t\t<Carousel.Item key={product._id}>\r\n\t\t\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t\t\t<Image src={product.image} alt={product.name} fluid />\r\n\t\t\t\t\t\t<Carousel.Caption>\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{product.name} ( $ {product.price})\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t</Carousel.Caption>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Carousel.Item>\r\n\t\t\t))}\r\n\t\t</Carousel>\r\n\t);\r\n};\r\n\r\nexport default ProductCarousel;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\n\r\nimport Product from \"../components/Product\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport Paginate from \"../components/Paginate\";\r\nimport ProductCarousel from \"../components/ProductCarousel\";\r\nimport { listProducts } from \"../actions/productActions\";\r\n\r\nconst HomeScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst productList = useSelector(state => state.productList);\r\n\tconst { error, loading, products, page, pages } = productList;\r\n\r\n\tlet keyword = history.location.search;\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listProducts(keyword));\r\n\t}, [dispatch, keyword]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{!keyword && <ProductCarousel />}\r\n\r\n\t\t\t<h1>Latest Products</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant=\"danger\">{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{products.map(product => (\r\n\t\t\t\t\t\t\t<Col key={product._id} sm={12} md={6} lg={4} xl={3}>\r\n\t\t\t\t\t\t\t\t<Product product={product} />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Paginate page={page} pages={pages} keyword={keyword} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default HomeScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Row, Col, Image, ListGroup, Button, Card, Form } from \"react-bootstrap\";\r\n\r\nimport Rating from \"../components/Rating\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport { listProductDetails, createProductReview } from \"../actions/productActions\";\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from \"../constants/productConstants\";\r\n\r\nconst ProductScreen = ({ match, history }) => {\r\n\tconst [qty, setQty] = useState(1);\r\n\tconst [rating, setRating] = useState(0);\r\n\tconst [comment, setComment] = useState(\"\");\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productDetails = useSelector(state => state.productDetails);\r\n\tconst { error, loading, product } = productDetails;\r\n\r\n\tconst userLogin = useSelector(state => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst productReviewCreate = useSelector(state => state.productReviewCreate);\r\n\tconst {\r\n\t\tloading: loadingProductReview,\r\n\t\terror: errorProductReview,\r\n\t\tsuccess: successProductReview,\r\n\t} = productReviewCreate;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successProductReview) {\r\n\t\t\tsetRating(0);\r\n\t\t\tsetComment(\"\");\r\n\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_RESET });\r\n\t\t}\r\n\t\tdispatch(listProductDetails(match.params.id));\r\n\t}, [dispatch, match, successProductReview]);\r\n\r\n\tconst addToCartHandler = () => {\r\n\t\thistory.push(`/cart/${match.params.id}?qty=${qty}`);\r\n\t};\r\n\r\n\tconst submitHandler = e => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tcreateProductReview(match.params.id, {\r\n\t\t\t\trating,\r\n\t\t\t\tcomment,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Link to=\"/\" className=\"btn btn-light my-3\">\r\n\t\t\t\tGo Back\r\n\t\t\t</Link>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant=\"danger\">{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t<Image src={product.image} alt={product.name} fluid />\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h3>{product.name}</h3>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\t\t\t\t\ttext={`${product.numReviews} reviews`}\r\n\t\t\t\t\t\t\t\t\t\tcolor={\"#f8e825\"}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>Price: $ {product.price}</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>Description: {product.description}</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>Price:</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>$ {product.price}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>Status:</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>{product.countInStock > 0 ? \"In Stock\" : \"Out of Stock\"}</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t\t\t\t{product.countInStock > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>Qty</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col xs=\"auto\" className=\"my-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={qty}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => setQty(e.target.value)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{[...Array(product.countInStock).keys()].map(x => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={x + 1} value={x + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item className=\"d-grid\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={addToCartHandler}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-block\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={product.countInStock === 0}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t\t\t\t\tAdd to Cart\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t<h4>REVIEWS</h4>\r\n\t\t\t\t\t\t\t{product.reviews.length === 0 && <Message variant=\"info\">No reviews</Message>}\r\n\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t\t{product.reviews.map(review => (\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item key={review.id}>\r\n\t\t\t\t\t\t\t\t\t\t<strong>{review.name}</strong>\r\n\t\t\t\t\t\t\t\t\t\t<Rating value={review.rating} color=\"#f8e825\" />\r\n\t\t\t\t\t\t\t\t\t\t<p>{review.createdAt.substring(0, 10)}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p>{review.comment}</p>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h4>Write a review</h4>\r\n\r\n\t\t\t\t\t\t\t\t\t{loadingProductReview && <Loader />}\r\n\t\t\t\t\t\t\t\t\t{successProductReview && <Message variant=\"success\">Review Submitted</Message>}\r\n\t\t\t\t\t\t\t\t\t{errorProductReview && <Message variant=\"danger\">{errorProductReview}</Message>}\r\n\r\n\t\t\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId=\"rating\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Rating</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rating}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => setRating(e.target.value)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Select...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"1\">1 - Poor</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"2\">2 - Fair</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"3\">3 - Good</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"4\">4 - Very Good</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"5\">5 - Excellent</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId=\"comment\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Review</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trow=\"5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={comment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => setComment(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<Button disabled={loadingProductReview} type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Message variant=\"info\">\r\n\t\t\t\t\t\t\t\t\t\t\tPlease <Link to=\"/login\">login</Link> to write a review.\r\n\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProductScreen;\r\n","import axios from \"axios\";\r\nimport {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_SHIPPING_ADDRESS,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n} from \"../constants/cartConstants\";\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n\tconst { data } = await axios.get(`/api/products/${id}`);\r\n\r\n\tdispatch({\r\n\t\ttype: CART_ADD_ITEM,\r\n\t\tpayload: {\r\n\t\t\tproduct: data._id,\r\n\t\t\tname: data.name,\r\n\t\t\timage: data.image,\r\n\t\t\tprice: data.price,\r\n\t\t\tcountInStock: data.countInStock,\r\n\t\t\tqty,\r\n\t\t},\r\n\t});\r\n\tlocalStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const removeFromCart = id => (dispatch, getState) => {\r\n\tdispatch({\r\n\t\ttype: CART_REMOVE_ITEM,\r\n\t\tpayload: id,\r\n\t});\r\n\r\n\tlocalStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const saveShippingAddress = data => dispatch => {\r\n\tdispatch({\r\n\t\ttype: CART_SAVE_SHIPPING_ADDRESS,\r\n\t\tpayload: data,\r\n\t});\r\n\r\n\tlocalStorage.setItem(\"shippingAddress\", JSON.stringify(data));\r\n};\r\n\r\nexport const savePaymentMethod = data => dispatch => {\r\n\tdispatch({\r\n\t\ttype: CART_SAVE_PAYMENT_METHOD,\r\n\t\tpayload: data,\r\n\t});\r\n\r\n\tlocalStorage.setItem(\"paymentMethod\", JSON.stringify(data));\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Row, Col, ListGroup, Image, Form, Button, Card, ListGroupItem } from \"react-bootstrap\";\r\nimport Message from \"../components/Message\";\r\nimport { addToCart, removeFromCart } from \"../actions/cartActions\";\r\n\r\nconst CartScreen = ({ match, location, history }) => {\r\n\tconst productId = match.params.id;\r\n\tconst qty = location.search ? Number(location.search.split(\"=\")[1]) : 1;\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst cart = useSelector(state => state.cart);\r\n\tconst { cartItems } = cart;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (productId) {\r\n\t\t\tdispatch(addToCart(productId, qty));\r\n\t\t}\r\n\t}, [dispatch, productId, qty]);\r\n\r\n\tconst removeFromCartHandler = id => {\r\n\t\tdispatch(removeFromCart(id));\r\n\t};\r\n\r\n\tconst checkoutHandler = () => {\r\n\t\thistory.push(\"/login?redirect=shipping\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col md={8}>\r\n\t\t\t\t<h1>Shopping Cart</h1>\r\n\t\t\t\t{cartItems.length === 0 ? (\r\n\t\t\t\t\t<Message variant=\"info\">\r\n\t\t\t\t\t\tYour cart is empty <Link to=\"/\">Go Back</Link>\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t{cartItems.map(item => (\r\n\t\t\t\t\t\t\t<ListGroup.Item key={item.product}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Image src={item.image} alt={item.name} fluid rounded />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>{item.name}</Link>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>$ {item.price}</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.qty}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={e => dispatch(addToCart(item.product, Number(e.target.value)))}>\r\n\t\t\t\t\t\t\t\t\t\t\t{[...Array(item.countInStock).keys()].map(x => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={x + 1} value={x + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"light\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeFromCartHandler(item.product)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t\t<Col md={4}>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Subtotal ({cartItems.reduce((acc, item) => acc + item.qty, 0)}) items</h2>\r\n\t\t\t\t\t\t\t<h2> $ {cartItems.reduce((acc, item) => acc + item.qty * item.price, 0).toFixed(2)}</h2>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item className=\"d-grid\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn-block\"\r\n\t\t\t\t\t\t\t\tdisabled={cartItems.length === 0}\r\n\t\t\t\t\t\t\t\tonClick={checkoutHandler}>\r\n\t\t\t\t\t\t\t\tProceed To Checkout\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default CartScreen;\r\n","import React from \"react\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\n\r\nconst FormContainer = ({ children }) => {\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Row className=\"justify-content-md-center\">\r\n\t\t\t\t<Col xs={12} md={6}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default FormContainer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport FormContainer from \"../components/FormContainer\";\r\nimport { login } from \"../actions/userActions\";\r\n\r\nfunction LoginScreen({ location, history }) {\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\r\n\r\n\tconst userLogin = useSelector(state => state.userLogin);\r\n\tconst { error, loading, userInfo } = userLogin;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\thistory.push(redirect);\r\n\t\t}\r\n\t}, [history, userInfo, redirect]);\r\n\r\n\tconst submitHandler = e => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(login(email, password));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>Sign In</h1>\r\n\r\n\t\t\t{error && <Message variant=\"danger\">{error}</Message>}\r\n\t\t\t{loading && <Loader />}\r\n\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId=\"email\">\r\n\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Enter Email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"password\">\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Enter Password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Button type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\tSign In\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\r\n\t\t\t<Row className=\"py-3\">\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tNew Customer? <Link to={redirect ? `/register?redirect=${redirect}` : \"/register\"}>Register</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</FormContainer>\r\n\t);\r\n}\r\n\r\nexport default LoginScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport FormContainer from \"../components/FormContainer\";\r\nimport { register } from \"../actions/userActions\";\r\n\r\nfunction RegisterScreen({ location, history }) {\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\tconst [message, setMessage] = useState(\"\");\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\r\n\r\n\tconst userRegister = useSelector(state => state.userRegister);\r\n\tconst { error, loading, userInfo } = userRegister;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\thistory.push(redirect);\r\n\t\t}\r\n\t}, [history, userInfo, redirect]);\r\n\r\n\tconst submitHandler = e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage(\"Passwords do not match\");\r\n\t\t} else {\r\n\t\t\tdispatch(register(name, email, password));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>Register</h1>\r\n\t\t\t{message && <Message variant=\"danger\">{message}</Message>}\r\n\t\t\t{error && <Message variant=\"danger\">{error}</Message>}\r\n\t\t\t{loading && <Loader />}\r\n\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype=\"name\"\r\n\t\t\t\t\t\tplaceholder=\"Enter name\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={e => setName(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"email\">\r\n\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Enter Email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"password\">\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Enter Password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"passwordComfirm\">\r\n\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Confirm Password\"\r\n\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\tonChange={e => setConfirmPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Button type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\tRegister\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\r\n\t\t\t<Row className=\"py-3\">\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tHave an Account? <Link to={redirect ? `/login?redirect=${redirect}` : \"/login\"}>Sign in</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</FormContainer>\r\n\t);\r\n}\r\n\r\nexport default RegisterScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Form, Button, Row, Col, Table } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport { getUserDetails, updateUserProfile } from \"../actions/userActions\";\r\nimport { USER_UPDATE_PROFILE_RESET } from \"../constants/userConstants\";\r\nimport { listMyOrders } from \"../actions/orderActions\";\r\n\r\nconst ProfileScreen = ({ history }) => {\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\tconst [message, setMessage] = useState(\"\");\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userDetails = useSelector(state => state.userDetails);\r\n\tconst { error, loading, user } = userDetails;\r\n\r\n\tconst userLogin = useSelector(state => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userUpdateProfile = useSelector(state => state.userUpdateProfile);\r\n\tconst { success } = userUpdateProfile;\r\n\r\n\tconst orderListMy = useSelector(state => state.orderListMy);\r\n\tconst { loading: loadingOrders, error: errorOrders, orders } = orderListMy;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo) {\r\n\t\t\thistory.push(\"/login\");\r\n\t\t} else {\r\n\t\t\tif (!user || !user.name || success || userInfo._id !== user._id) {\r\n\t\t\t\tdispatch({ type: USER_UPDATE_PROFILE_RESET });\r\n\t\t\t\tdispatch(getUserDetails(\"profile\"));\r\n\t\t\t\tdispatch(listMyOrders());\r\n\t\t\t} else {\r\n\t\t\t\tsetName(user.name);\r\n\t\t\t\tsetEmail(user.email);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, history, userInfo, user, success]);\r\n\r\n\tconst submitHandler = e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage(\"Passwords do not match\");\r\n\t\t} else {\r\n\t\t\tdispatch(updateUserProfile({ id: user._id, name: name, email: email, password: password }));\r\n\t\t\tsetMessage(\"\");\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col md={3}>\r\n\t\t\t\t<h2>User Profile</h2>\r\n\r\n\t\t\t\t{message && <Message variant=\"danger\">{message}</Message>}\r\n\t\t\t\t{error && <Message variant=\"danger\">{error}</Message>}\r\n\t\t\t\t{loading && <Loader />}\r\n\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\ttype=\"name\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter name\"\r\n\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\tonChange={e => setName(e.target.value)}></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"email\">\r\n\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Email\"\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"password\">\r\n\t\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Password\"\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"passwordConfirm\">\r\n\t\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"Confirm Password\"\r\n\t\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\t\tonChange={e => setConfirmPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</Col>\r\n\t\t\t<Col md={9}>\r\n\t\t\t\t<h2>My Orders</h2>\r\n\t\t\t\t{loadingOrders ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : errorOrders ? (\r\n\t\t\t\t\t<Message variant=\"danger\">{errorOrders}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table striped responsive className=\"table-sm\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t\t\t<th>Total</th>\r\n\t\t\t\t\t\t\t\t<th>Paid</th>\r\n\t\t\t\t\t\t\t\t<th>Delivered</th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{orders.map(order => (\r\n\t\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.createdAt.substring(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t\t<td>$ {order.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\torder.paidAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-times\" style={{ color: \"red\" }}></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>-</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to={`/order/${order._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button className=\"btn-sm\">Details</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default ProfileScreen;\r\n","import {\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_CREATE_FAIL,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_DETAILS_FAIL,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_PAY_FAIL,\r\n\tORDER_PAY_RESET,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DELIVER_FAIL,\r\n\tORDER_DELIVER_RESET,\r\n\tORDER_LIST_MY_REQUEST,\r\n\tORDER_LIST_MY_SUCCESS,\r\n\tORDER_LIST_MY_FAIL,\r\n\tORDER_LIST_MY_RESET,\r\n\tORDER_LIST_REQUEST,\r\n\tORDER_LIST_SUCCESS,\r\n\tORDER_LIST_FAIL,\r\n} from \"../constants/orderConstants\";\r\nimport { CART_CLEAR_ITEMS } from \"../constants/cartConstants\";\r\nimport axios from \"axios\";\r\n\r\nexport const createOrder = order => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(`/api/orders/add/`, order, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: CART_CLEAR_ITEMS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tlocalStorage.removeItem(\"cartItems\");\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getOrderDetails = id => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders/${id}/`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const payOrder = (id, paymentResult) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_PAY_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(`/api/orders/${id}/pay/`, paymentResult, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_PAY_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_PAY_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deliverOrder = order => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(`/api/orders/${order._id}/deliver/`, {}, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const listMyOrders = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_MY_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders/myorders/`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_MY_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_MY_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const listOrders = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders/`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_FAIL,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message,\r\n\t\t});\r\n\t}\r\n};\r\n","import React from \"react\";\r\nimport { Nav } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\n\r\nconst CheckoutSteps = ({ step1, step2, step3, step4 }) => {\r\n\treturn (\r\n\t\t<Nav className=\"justify-content-center mb-4\">\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step1 ? (\r\n\t\t\t\t\t<LinkContainer to=\"/login\">\r\n\t\t\t\t\t\t<Nav.Link>Login</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Login</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step2 ? (\r\n\t\t\t\t\t<LinkContainer to=\"/shipping\">\r\n\t\t\t\t\t\t<Nav.Link>Shipping</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Shipping</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step3 ? (\r\n\t\t\t\t\t<LinkContainer to=\"/payment\">\r\n\t\t\t\t\t\t<Nav.Link>Payment</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Payment</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step4 ? (\r\n\t\t\t\t\t<LinkContainer to=\"/placeorder\">\r\n\t\t\t\t\t\t<Nav.Link>Place Order</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Place Order</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t</Nav>\r\n\t);\r\n};\r\n\r\nexport default CheckoutSteps;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport FormContainer from \"../components/FormContainer\";\r\nimport CheckoutSteps from \"../components/CheckoutSteps\";\r\nimport { saveShippingAddress } from \"../actions/cartActions\";\r\n\r\nfunction ShippingScreen({ history }) {\r\n\tconst cart = useSelector(state => state.cart);\r\n\tconst { shippingAddress } = cart;\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [address, setAddress] = useState(shippingAddress.address);\r\n\tconst [city, setCity] = useState(shippingAddress.city);\r\n\tconst [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n\tconst [country, setCountry] = useState(shippingAddress.country);\r\n\r\n\tconst submitHandler = e => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(saveShippingAddress({ address, city, postalCode, country }));\r\n\t\thistory.push(\"/payment\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutSteps step1 step2 />\r\n\t\t\t<h1>Shipping</h1>\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId=\"address\">\r\n\t\t\t\t\t<Form.Label>Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Enter address\"\r\n\t\t\t\t\t\tvalue={address ? address : \"\"}\r\n\t\t\t\t\t\tonChange={e => setAddress(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"city\">\r\n\t\t\t\t\t<Form.Label>City</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Enter city\"\r\n\t\t\t\t\t\tvalue={city ? city : \"\"}\r\n\t\t\t\t\t\tonChange={e => setCity(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"postalCode\">\r\n\t\t\t\t\t<Form.Label>Postal Code</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Enter postal code\"\r\n\t\t\t\t\t\tvalue={postalCode ? postalCode : \"\"}\r\n\t\t\t\t\t\tonChange={e => setPostalCode(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"country\">\r\n\t\t\t\t\t<Form.Label>Country</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Enter country\"\r\n\t\t\t\t\t\tvalue={country ? country : \"\"}\r\n\t\t\t\t\t\tonChange={e => setCountry(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Button type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\tContinue\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t);\r\n}\r\n\r\nexport default ShippingScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Form, Button, Col } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport FormContainer from \"../components/FormContainer\";\r\nimport CheckoutSteps from \"../components/CheckoutSteps\";\r\nimport { savePaymentMethod } from \"../actions/cartActions\";\r\n\r\nconst PaymentScreen = ({ history }) => {\r\n\tconst cart = useSelector(state => state.cart);\r\n\tconst { shippingAddress } = cart;\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [paymentMethod, setPaymentMethod] = useState(\"PayPal\");\r\n\r\n\tif (!shippingAddress.address) {\r\n\t\thistory.push(\"/shipping\");\r\n\t}\r\n\r\n\tconst submitHandler = e => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(savePaymentMethod(paymentMethod));\r\n\t\thistory.push(\"/placeorder\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutSteps step1 step2 step3 />\r\n\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Label as=\"legend\">Select Method</Form.Label>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\tlabel=\"Paypal or Credit Card\"\r\n\t\t\t\t\t\t\tid=\"paypal\"\r\n\t\t\t\t\t\t\tname=\"paymentMethod\"\r\n\t\t\t\t\t\t\tchecked\r\n\t\t\t\t\t\t\tonChange={e => setPaymentMethod(e.target.value)}></Form.Check>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Button type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\tContinue\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default PaymentScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Row, Col, ListGroup, Image, Card } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Message from \"../components/Message\";\r\nimport CheckoutSteps from \"../components/CheckoutSteps\";\r\nimport { createOrder } from \"../actions/orderActions\";\r\nimport { ORDER_CREATE_RESET } from \"../constants/orderConstants\";\r\n\r\nconst PlaceOrderScreen = ({ history }) => {\r\n\tconst orderCreate = useSelector(state => state.orderCreate);\r\n\tconst { order, error, success } = orderCreate;\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst cart = useSelector(state => state.cart);\r\n\r\n\tcart.itemsPrice = cart.cartItems.reduce((acc, item) => acc + item.price * item.qty, 0).toFixed(2);\r\n\tcart.shippingPrice = (cart.itemsPrice > 100 ? 0 : 10).toFixed(2);\r\n\tcart.taxPrice = Number(0.082 * cart.itemsPrice).toFixed(2);\r\n\tcart.totalPrice = (Number(cart.itemsPrice) + Number(cart.shippingPrice) + Number(cart.taxPrice)).toFixed(2);\r\n\r\n\tif (!cart.paymentMethod) {\r\n\t\thistory.push(\"/payment\");\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (success) {\r\n\t\t\thistory.push(`/order/${order._id}`);\r\n\t\t\tdispatch({ type: ORDER_CREATE_RESET });\r\n\t\t}\r\n\t}, [success, history]);\r\n\r\n\tconst placeOrder = () => {\r\n\t\tdispatch(\r\n\t\t\tcreateOrder({\r\n\t\t\t\torderItems: cart.cartItems,\r\n\t\t\t\tshippingAddress: cart.shippingAddress,\r\n\t\t\t\tpaymentMethod: cart.paymentMethod,\r\n\t\t\t\titemsPrice: cart.itemsPrice,\r\n\t\t\t\tshippingPrice: cart.shippingPrice,\r\n\t\t\t\ttaxPrice: cart.taxPrice,\r\n\t\t\t\ttotalPrice: cart.totalPrice,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<CheckoutSteps step1 step2 step3 step4 />\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Shipping: </strong>\r\n\t\t\t\t\t\t\t\t{cart.shippingAddress.address}, {cart.shippingAddress.City}\r\n\t\t\t\t\t\t\t\t{\"   \"}\r\n\t\t\t\t\t\t\t\t{cart.shippingAddress.postalCode},{\"   \"}\r\n\t\t\t\t\t\t\t\t{cart.shippingAddress.country}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Method: </strong>\r\n\t\t\t\t\t\t\t\t{cart.paymentMethod}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Order Items</h2>\r\n\t\t\t\t\t\t\t{cart.cartItems.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Message variant=\"info\">Your cart is empty</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t\t\t{cart.cartItems.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image src={item.image} alt={item.name} fluid rounded />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>{item.name}</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} X $ {item.price} = $ {(item.qty * item.price).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Order Summary</h2>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>Items:</Col>\r\n\t\t\t\t\t\t\t\t<Col>$ {cart.itemsPrice}</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>Shipping:</Col>\r\n\t\t\t\t\t\t\t\t<Col>$ {cart.shippingPrice}</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>Tax:</Col>\r\n\t\t\t\t\t\t\t\t<Col>$ {cart.taxPrice}</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>Total:</Col>\r\n\t\t\t\t\t\t\t\t<Col>$ {cart.totalPrice}</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>{error && <Message variant=\"danger\">{error}</Message>}</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item className=\"d-grid\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn-block\"\r\n\t\t\t\t\t\t\t\tdisabled={cart.cartItems === 0}\r\n\t\t\t\t\t\t\t\tonClick={placeOrder}>\r\n\t\t\t\t\t\t\t\tPlace Order\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PlaceOrderScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Row, Col, ListGroup, Image, Card } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport Message from \"../components/Message\";\r\nimport Loader from \"../components/Loader\";\r\nimport { getOrderDetails, payOrder, deliverOrder } from \"../actions/orderActions\";\r\nimport { ORDER_PAY_RESET, ORDER_DELIVER_RESET } from \"../constants/orderConstants\";\r\n\r\nconst OrderScreen = ({ match, history }) => {\r\n\tconst orderId = match.params.id;\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [sdkReady, setSdkReady] = useState(false);\r\n\r\n\tconst orderDetails = useSelector(state => state.orderDetails);\r\n\tconst { order, error, loading } = orderDetails;\r\n\r\n\tconst orderPay = useSelector(state => state.orderPay);\r\n\tconst { loading: loadingPay, success: successPay } = orderPay;\r\n\r\n\tconst orderDeliver = useSelector(state => state.orderDeliver);\r\n\tconst { loading: loadingDeliver, success: successDeliver } = orderDeliver;\r\n\r\n\tconst userLogin = useSelector(state => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tif (!loading && !error) {\r\n\t\torder.itemsPrice = order.orderItems.reduce((acc, item) => acc + item.price * item.qty, 0).toFixed(2);\r\n\t}\r\n\r\n\t// CLIENT ID\r\n\t// Afo_cB-OfV1H4j-Ujiin-jkGhbX0jxIqz6XMU6L7zIEF_x9-b5DltIQjv4SvKGNTvjyX2p4VZJtBeR81\r\n\tconst addPayPalScript = () => {\r\n\t\tconst script = document.createElement(\"script\");\r\n\t\tscript.type = \"text/javascript\";\r\n\t\tscript.src =\r\n\t\t\t\"https://www.paypal.com/sdk/js?client-id=Afo_cB-OfV1H4j-Ujiin-jkGhbX0jxIqz6XMU6L7zIEF_x9-b5DltIQjv4SvKGNTvjyX2p4VZJtBeR81\";\r\n\t\tscript.async = true;\r\n\t\tscript.onload = () => {\r\n\t\t\tsetSdkReady(true);\r\n\t\t};\r\n\t\tdocument.body.appendChild(script);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo) {\r\n\t\t\thistory.push(\"/login\");\r\n\t\t}\r\n\r\n\t\tif (!order || successPay || order._id !== Number(orderId) || successDeliver) {\r\n\t\t\tdispatch({ type: ORDER_PAY_RESET });\r\n\t\t\tdispatch({ type: ORDER_DELIVER_RESET });\r\n\t\t\tdispatch(getOrderDetails(orderId));\r\n\t\t} else if (!order.isPaid) {\r\n\t\t\tif (!window.paypal) {\r\n\t\t\t\taddPayPalScript();\r\n\t\t\t} else {\r\n\t\t\t\tsetSdkReady(true);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, order, orderId, successPay, successDeliver]);\r\n\r\n\tconst successPaymentHandler = paymentResult => {\r\n\t\tdispatch(payOrder(orderId, paymentResult));\r\n\t};\r\n\r\n\tconst deliverHandler = () => {\r\n\t\tdispatch(deliverOrder(order));\r\n\t};\r\n\r\n\treturn loading ? (\r\n\t\t<Loader />\r\n\t) : error ? (\r\n\t\t<Message variant=\"danger\">{error}</Message>\r\n\t) : (\r\n\t\t<div>\r\n\t\t\t<h1>Order: {order._id}</h1>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Name: </strong>\r\n\t\t\t\t\t\t\t\t{order.user.name}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Email: </strong>\r\n\t\t\t\t\t\t\t\t<a href={`mailto:${order.user.email}`}>{order.user.email}</a>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Shipping: </strong>\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.address}, {order.shippingAddress.City}\r\n\t\t\t\t\t\t\t\t{\"   \"}\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.postalCode},{\"   \"}\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.country}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t<Message variant=\"success\">Delivered on: {order.deliveredAt}</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message variant=\"warning\">Not delivered</Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Method: </strong>\r\n\t\t\t\t\t\t\t\t{order.paymentMethod}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t<Message variant=\"success\">Paid on: {order.paidAt}</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message variant=\"warning\">Not paid</Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Order Items</h2>\r\n\t\t\t\t\t\t\t{order.orderItems.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Message variant=\"info\">Your order is empty</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t\t\t{order.orderItems.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image src={item.image} alt={item.name} fluid rounded />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>{item.name}</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} X $ {item.price} = $ {(item.qty * item.price).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Order Summary</h2>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>Items:</Col>\r\n\t\t\t\t\t\t\t\t<Col>$ {order.itemsPrice}</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>Shipping:</Col>\r\n\t\t\t\t\t\t\t\t<Col>$ {order.shippingPrice}</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>Tax:</Col>\r\n\t\t\t\t\t\t\t\t<Col>$ {order.taxPrice}</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>Total:</Col>\r\n\t\t\t\t\t\t\t\t<Col>$ {order.totalPrice}</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t{!order.isPaid && (\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t{loadingPay && <Loader />}\r\n\t\t\t\t\t\t\t\t{!sdkReady ? (\r\n\t\t\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<PayPalButton amount={order.totalPrice} onSuccess={successPaymentHandler} />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{loadingDeliver && <Loader />}\r\n\t\t\t\t\t\t{userInfo && userInfo.isAdmin && order.isPaid && !order.isDelivered && (\r\n\t\t\t\t\t\t\t<ListGroup.Item className=\"d-grid\">\r\n\t\t\t\t\t\t\t\t<Button type=\"button\" className=\"btn btn-block\" onClick={deliverHandler}>\r\n\t\t\t\t\t\t\t\t\tMark As Delivered\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default OrderScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Table, Button } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport { listUsers, deleteUser } from \"../actions/userActions\";\r\n\r\nconst UserListScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userList = useSelector(state => state.userList);\r\n\tconst { loading, error, users } = userList;\r\n\r\n\tconst userLogin = useSelector(state => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDelete = useSelector(state => state.userDelete);\r\n\tconst { success: successDelete } = userDelete;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo && userInfo.isAdmin) {\r\n\t\t\tdispatch(listUsers());\r\n\t\t} else {\r\n\t\t\thistory.push(\"/login\");\r\n\t\t}\r\n\t}, [dispatch, history, successDelete]);\r\n\r\n\tconst deleteHandler = id => {\r\n\t\tif (window.confirm(\"Are you sure you want to delete this user?\")) {\r\n\t\t\tdispatch(deleteUser(id));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Users</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message Message variant=\"danger\">\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table striped bordered hover responsive className=\"table-sm\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t<th>EMAIL</th>\r\n\t\t\t\t\t\t\t<th>ADMIN</th>\r\n\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{users.map(user => (\r\n\t\t\t\t\t\t\t<tr key={user._id}>\r\n\t\t\t\t\t\t\t\t<td>{user._id}</td>\r\n\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t<td>{user.email}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{user.isAdmin ? (\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-check\" style={{ color: \"green\" }}></i>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-times\" style={{ color: \"red\" }}></i>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to={`/admin/user/${user._id}/edit`}>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" className=\"btn-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-edit\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"btn-sm\" onClick={() => deleteHandler(user._id)}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>test</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default UserListScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport FormContainer from \"../components/FormContainer\";\r\nimport { getUserDetails, updateUser } from \"../actions/userActions\";\r\nimport { USER_UPDATE_RESET } from \"../constants/userConstants\";\r\n\r\nfunction UserEditScreen({ match, history }) {\r\n\tconst userId = match.params.id;\r\n\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [isAdmin, setIsAdmin] = useState(false);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userDetails = useSelector(state => state.userDetails);\r\n\tconst { error, loading, user } = userDetails;\r\n\r\n\tconst userUpdate = useSelector(state => state.userUpdate);\r\n\tconst { error: errorUpdate, loading: loadingUpdate, success: successUpdate } = userUpdate;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({ type: USER_UPDATE_RESET });\r\n\t\t\thistory.push(\"/admin/userlist\");\r\n\t\t} else {\r\n\t\t\tif (!user.name || user._id !== Number(userId)) {\r\n\t\t\t\tdispatch(getUserDetails(userId));\r\n\t\t\t} else {\r\n\t\t\t\tsetName(user.name);\r\n\t\t\t\tsetEmail(user.email);\r\n\t\t\t\tsetIsAdmin(user.isAdmin);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [user, userId, successUpdate, history]);\r\n\r\n\tconst submitHandler = e => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(updateUser({ _id: user.id, name, email, isAdmin }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Link to=\"/admin/userlist\">Go Back</Link>\r\n\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>Edit User</h1>\r\n\t\t\t\t{loadingUpdate && <Loader />}\r\n\t\t\t\t{errorUpdate && <Message variant=\"danger\">{errorUpdate}</Message>}\r\n\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : error ? (\r\n\t\t\t\t\t<Message variant=\"danger\">{error}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"name\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter name\"\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={e => setName(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"email\">\r\n\t\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter Email\"\r\n\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"isadmin\">\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel=\"Is Admin\"\r\n\t\t\t\t\t\t\t\tchecked={isAdmin}\r\n\t\t\t\t\t\t\t\tonChange={e => setIsAdmin(e.target.checked)}></Form.Check>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default UserEditScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Table, Button, Row, Col } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport Paginate from \"../components/Paginate\";\r\nimport { listProducts, deleteProduct, createProduct } from \"../actions/productActions\";\r\nimport { PRODUCT_CREATE_RESET } from \"../constants/productConstants\";\r\n\r\nconst ProductListScreen = ({ match, history }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productList = useSelector(state => state.productList);\r\n\tconst { loading, error, products, page, pages } = productList;\r\n\r\n\tconst productCreate = useSelector(state => state.productCreate);\r\n\tconst {\r\n\t\tloading: loadingCreate,\r\n\t\terror: errorCreate,\r\n\t\tsuccess: successCreate,\r\n\t\tproduct: createdProduct,\r\n\t} = productCreate;\r\n\r\n\tconst productDelete = useSelector(state => state.productDelete);\r\n\tconst { loading: loadingDelete, error: errorDelete, success: successDelete } = productDelete;\r\n\r\n\tconst userLogin = useSelector(state => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tlet keyword = history.location.search;\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch({ type: PRODUCT_CREATE_RESET });\r\n\r\n\t\tif (!userInfo.isAdmin) {\r\n\t\t\thistory.push(\"/login\");\r\n\t\t}\r\n\r\n\t\tif (successCreate) {\r\n\t\t\thistory.push(`/admin/product/${createdProduct._id}/edit`);\r\n\t\t} else {\r\n\t\t\tdispatch(listProducts(keyword));\r\n\t\t}\r\n\t}, [dispatch, history, userInfo, successDelete, successCreate, createdProduct, keyword]);\r\n\r\n\tconst deleteHandler = id => {\r\n\t\tif (window.confirm(\"Are you sure you want to delete this product?\")) {\r\n\t\t\tdispatch(deleteProduct(id));\r\n\t\t}\r\n\t};\r\n\r\n\tconst createProductHandler = () => {\r\n\t\tdispatch(createProduct());\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Row className=\"align-items-center\">\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t<h1>Products</h1>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col className=\"text-right\">\r\n\t\t\t\t\t<Button className=\"my-3 float-end\" onClick={createProductHandler}>\r\n\t\t\t\t\t\t<i className=\"fa fa-plus\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\tCreate Product\r\n\t\t\t\t\t\t</i>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\r\n\t\t\t{loadingDelete && <Loader />}\r\n\t\t\t{errorDelete && <Message variant=\"danger\">{errorDelete}</Message>}\r\n\r\n\t\t\t{loadingCreate && <Loader />}\r\n\t\t\t{errorCreate && <Message variant=\"danger\">{errorCreate}</Message>}\r\n\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message Message variant=\"danger\">\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Table striped bordered hover responsive className=\"table-sm\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t\t<th>PRICE</th>\r\n\t\t\t\t\t\t\t\t<th>CATECORY</th>\r\n\t\t\t\t\t\t\t\t<th>BRAND</th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{products.map(product => (\r\n\t\t\t\t\t\t\t\t<tr key={product._id}>\r\n\t\t\t\t\t\t\t\t\t<td>{product._id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{product.name}</td>\r\n\t\t\t\t\t\t\t\t\t<td>$ {product.price}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{product.category}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{product.brand}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to={`/admin/product/${product._id}/edit`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" className=\"btn-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-edit\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => deleteHandler(product._id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Paginate page={page} pages={pages} isAdmin={true} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProductListScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport FormContainer from \"../components/FormContainer\";\r\nimport { listProductDetails, updateProduct } from \"../actions/productActions\";\r\nimport { PRODUCT_UPDATE_RESET } from \"../constants/productConstants\";\r\n\r\nfunction ProductEditScreen({ match, history }) {\r\n\tconst productId = match.params.id;\r\n\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [price, setPrice] = useState(0);\r\n\tconst [image, setImage] = useState(\"\");\r\n\tconst [brand, setBrand] = useState(\"\");\r\n\tconst [category, setCategory] = useState(\"\");\r\n\tconst [countInStock, setCountInStock] = useState(0);\r\n\tconst [description, setDescription] = useState(\"\");\r\n\tconst [uploading, setUploading] = useState(false);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productDetails = useSelector(state => state.productDetails);\r\n\tconst { error, loading, product } = productDetails;\r\n\r\n\tconst productUpdate = useSelector(state => state.productUpdate);\r\n\tconst { error: errorUpdate, loading: loadingUpdate, success: successUpdate } = productUpdate;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({ type: PRODUCT_UPDATE_RESET });\r\n\t\t\thistory.push(`/admin/productlist`);\r\n\t\t} else {\r\n\t\t\tif (!product.name || product._id !== Number(productId)) {\r\n\t\t\t\tdispatch(listProductDetails(productId));\r\n\t\t\t} else {\r\n\t\t\t\tsetName(product.name);\r\n\t\t\t\tsetPrice(product.price);\r\n\t\t\t\tsetImage(product.image);\r\n\t\t\t\tsetBrand(product.brand);\r\n\t\t\t\tsetCategory(product.category);\r\n\t\t\t\tsetCountInStock(product.countInStock);\r\n\t\t\t\tsetDescription(product.description);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, product, productId, successUpdate, history]);\r\n\r\n\tconst submitHandler = e => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tupdateProduct({\r\n\t\t\t\t_id: productId,\r\n\t\t\t\tname,\r\n\t\t\t\tprice,\r\n\t\t\t\timage,\r\n\t\t\t\tbrand,\r\n\t\t\t\tcategory,\r\n\t\t\t\tcountInStock,\r\n\t\t\t\tdescription,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\tconst uploadFileHandler = async e => {\r\n\t\tconst file = e.target.files[0];\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tformData.append(\"image\", file);\r\n\t\tformData.append(\"product_id\", productId);\r\n\r\n\t\tsetUploading(true);\r\n\r\n\t\ttry {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"multipart/form-data\",\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.post(\"/api/products/upload/\", formData, config);\r\n\r\n\t\t\tsetImage(data);\r\n\t\t\tsetUploading(false);\r\n\t\t} catch {\r\n\t\t\tsetUploading(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Link to=\"/admin/productlist\">Go Back</Link>\r\n\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>Edit Product</h1>\r\n\r\n\t\t\t\t{loadingUpdate && <Loader />}\r\n\t\t\t\t{errorUpdate && <Message variant=\"danger\">{errorUpdate}</Message>}\r\n\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : error ? (\r\n\t\t\t\t\t<Message variant=\"danger\">{error}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"name\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter name\"\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={e => setName(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"price\">\r\n\t\t\t\t\t\t\t<Form.Label>Price</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter price\"\r\n\t\t\t\t\t\t\t\tvalue={price}\r\n\t\t\t\t\t\t\t\tonChange={e => setPrice(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"image\">\r\n\t\t\t\t\t\t\t<Form.Label>Image</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter image\"\r\n\t\t\t\t\t\t\t\tvalue={image}\r\n\t\t\t\t\t\t\t\tonChange={e => setImage(e.target.value)}></Form.Control>\r\n\r\n\t\t\t\t\t\t\t<Form.File\r\n\t\t\t\t\t\t\t\tid=\"image-file\"\r\n\t\t\t\t\t\t\t\tlabel=\"Choose File\"\r\n\t\t\t\t\t\t\t\tcustom\r\n\t\t\t\t\t\t\t\tonChange={uploadFileHandler}></Form.File>\r\n\r\n\t\t\t\t\t\t\t{uploading && <Loader />}\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"brand\">\r\n\t\t\t\t\t\t\t<Form.Label>Brand</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter brand\"\r\n\t\t\t\t\t\t\t\tvalue={brand}\r\n\t\t\t\t\t\t\t\tonChange={e => setBrand(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"category\">\r\n\t\t\t\t\t\t\t<Form.Label>Category</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter category\"\r\n\t\t\t\t\t\t\t\tvalue={category}\r\n\t\t\t\t\t\t\t\tonChange={e => setCategory(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"countinstock\">\r\n\t\t\t\t\t\t\t<Form.Label>CountInStock</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter stock\"\r\n\t\t\t\t\t\t\t\tvalue={countInStock}\r\n\t\t\t\t\t\t\t\tonChange={e => setCountInStock(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"description\">\r\n\t\t\t\t\t\t\t<Form.Label>Description</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter description\"\r\n\t\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\t\tonChange={e => setDescription(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ProductEditScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Table, Button } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport { listOrders } from \"../actions/orderActions\";\r\n\r\nconst OrderListScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst orderList = useSelector(state => state.orderList);\r\n\tconst { loading, error, orders } = orderList;\r\n\r\n\tconst userLogin = useSelector(state => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo && userInfo.isAdmin) {\r\n\t\t\tdispatch(listOrders());\r\n\t\t} else {\r\n\t\t\thistory.push(\"/login\");\r\n\t\t}\r\n\t}, [dispatch, history, userInfo]);\r\n\r\n\tconst deleteHandler = id => {\r\n\t\t//pass\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Orders</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message Message variant=\"danger\">\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table striped bordered hover responsive className=\"table-sm\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>USER</th>\r\n\t\t\t\t\t\t\t<th>DATE</th>\r\n\t\t\t\t\t\t\t<th>TOTAL</th>\r\n\t\t\t\t\t\t\t<th>PAID</th>\r\n\t\t\t\t\t\t\t<th>DELIVERED</th>\r\n\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{orders.map(order => (\r\n\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t<td>{order.user && order.user.name}</td>\r\n\t\t\t\t\t\t\t\t<td>{order.createdAt.substring(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t<td>$ {order.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\torder.paidAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-times\" style={{ color: \"red\" }}></i>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\torder.deliveredAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-times\" style={{ color: \"red\" }}></i>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to={`/order/${order._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" className=\"btn-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\tDetails\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default OrderListScreen;\r\n","import { Container } from \"react-bootstrap\";\r\nimport { HashRouter as Router, Route } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nimport Header from \"./components/Header\";\r\nimport Footer from \"./components/Footer\";\r\nimport HomeScreen from \"./screens/HomeScreen\";\r\nimport ProductScreen from \"./screens/ProductScreen\";\r\nimport CartScreen from \"./screens/CartScreen\";\r\nimport LoginScreen from \"./screens/LoginScreen\";\r\nimport RegisterScreen from \"./screens/RegisterScreen\";\r\nimport ProfileScreen from \"./screens/ProfileScreen\";\r\nimport ShippingScreen from \"./screens/ShippingScreen\";\r\nimport PaymentScreen from \"./screens/PaymentScreen\";\r\nimport PlaceOrderScreen from \"./screens/PlaceOrderScreen\";\r\nimport OrderScreen from \"./screens/OrderScreen\";\r\nimport UserListScreen from \"./screens/UserListScreen\";\r\nimport UserEditScreen from \"./screens/UserEditScreen\";\r\nimport ProductListScreen from \"./screens/ProductListScreen\";\r\nimport ProductEditScreen from \"./screens/ProductEditScreen\";\r\nimport OrderListScreen from \"./screens/OrderListScreen\";\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Header />\r\n\t\t\t<main className=\"py-3\">\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Route exact path=\"/\" component={HomeScreen} />\r\n\t\t\t\t\t<Route path=\"/login\" component={LoginScreen} />\r\n\t\t\t\t\t<Route path=\"/register\" component={RegisterScreen} />\r\n\t\t\t\t\t<Route path=\"/profile\" component={ProfileScreen} />\r\n\t\t\t\t\t<Route path=\"/shipping\" component={ShippingScreen} />\r\n\t\t\t\t\t<Route path=\"/payment\" component={PaymentScreen} />\r\n\t\t\t\t\t<Route path=\"/placeorder\" component={PlaceOrderScreen} />\r\n\t\t\t\t\t<Route path=\"/order/:id\" component={OrderScreen} />\r\n\t\t\t\t\t<Route path=\"/product/:id\" component={ProductScreen} />\r\n\t\t\t\t\t<Route path=\"/cart/:id?\" component={CartScreen} />\r\n\r\n\t\t\t\t\t<Route path=\"/admin/userlist\" component={UserListScreen} />\r\n\t\t\t\t\t<Route path=\"/admin/user/:id/edit\" component={UserEditScreen} />\r\n\t\t\t\t\t<Route path=\"/admin/productlist\" component={ProductListScreen} />\r\n\t\t\t\t\t<Route path=\"/admin/product/:id/edit\" component={ProductEditScreen} />\r\n\t\t\t\t\t<Route path=\"/admin/orderlist\" component={OrderListScreen} />\r\n\t\t\t\t</Container>\r\n\t\t\t</main>\r\n\t\t\t<Footer />\r\n\t\t</Router>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\r\n\t\timport(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n\t\t\tgetCLS(onPerfEntry);\r\n\t\t\tgetFID(onPerfEntry);\r\n\t\t\tgetFCP(onPerfEntry);\r\n\t\t\tgetLCP(onPerfEntry);\r\n\t\t\tgetTTFB(onPerfEntry);\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport store from \"./store\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nimport \"./index.css\";\r\nimport \"./bootstrap.min.css\";\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}